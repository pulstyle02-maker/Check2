<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mind Your Minors - Book Checkout</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
    body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
    .step-line { position: absolute; left: 17px; top: 40px; bottom: -25px; width: 4px; background-color: #e5e7eb; z-index: 0; transition: all 0.4s ease; }
    .step-line-active { position: absolute; left: 17px; top: 40px; width: 4px; background-color: #06b6d4; z-index: 1; transition: height 0.4s ease; height: 0; }
    @media (max-width:768px){#progress-bar{display:none}}
    .step-circle{transition:all 0.3s ease}
    @keyframes scaleIn{0%{transform:scale(0.5);opacity:0}100%{transform:scale(1);opacity:1}}
    .animate-scaleIn{animation:scaleIn 0.3s ease-out forwards}
    @keyframes fadeUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}
    .animate-fadeUp{animation:fadeUp 0.5s ease-out forwards;opacity:0}
    .delay-200{animation-delay:0.2s}
    .delay-400{animation-delay:0.4s}
    .delay-600{animation-delay:0.6s}
</style>
</head>
<body>
<div id="app" class="min-h-screen bg-gray-50 p-4 md:p-8">
<div class="max-w-7xl mx-auto">
<header class="mb-8">
<h1 class="text-3xl font-extrabold text-gray-900 tracking-tight">Mind Your Minors - Book Checkout</h1>
<p class="text-gray-500 mt-1">Block 6 Book | Price: <span id="base-price">â‚¨500.00</span></p>
</header>
<div class="md:flex md:space-x-12">
<div id="progress-bar" class="md:w-1/3 relative hidden md:block">
<div class="sticky top-8 pt-4">
<h2 class="text-lg font-semibold text-gray-700 mb-6">Your Progress</h2>
<div class="step-line"></div>
<div id="active-line" class="step-line-active"></div>
<div id="step-container" class="space-y-6">
<div data-target="shipping-step" class="flex items-start step-item relative z-10" id="step-1">
<div class="step-circle w-9 h-9 flex items-center justify-center rounded-full bg-cyan-500 text-white shadow-lg mr-4">1</div>
<div>
<h3 class="font-bold text-gray-900">Details & Discount</h3>
<p class="text-sm text-gray-500">Info and Coupon</p>
</div>
</div>
<div data-target="payment-step" class="flex items-start step-item relative z-10" id="step-2">
<div class="step-circle w-9 h-9 flex items-center justify-center rounded-full bg-gray-300 text-gray-700 mr-4">2</div>
<div>
<h3 class="font-bold text-gray-900">Payment & Receipt</h3>
<p class="text-sm text-gray-500">Nayapay Transfer</p>
</div>
</div>
<div data-target="review-step" class="flex items-start step-item relative z-10" id="step-3">
<div class="step-circle w-9 h-9 flex items-center justify-center rounded-full bg-gray-300 text-gray-700 mr-4">3</div>
<div>
<h3 class="font-bold text-gray-900">Confirm Order</h3>
<p class="text-sm text-gray-500">Final Confirmation</p>
</div>
</div>
</div>
</div>
</div>

<form id="checkout-form" action="https://formsubmit.co/hasnainmughal4200@gmail.com" method="POST" enctype="multipart/form-data" class="md:w-2/3 space-y-12">
<input type="hidden" name="_subject" id="formSubmitSubject" value="NEW MYM Order #">
<input type="hidden" name="_captcha" value="false">
<input type="hidden" name="_next" value="">
<input type="hidden" name="Order Number" id="hiddenOrderNumber" value="">
<input type="hidden" name="Total Amount Paid" id="hiddenTotalAmount" value="">
<input type="hidden" name="Book Name" value="Mind Your Minors - Block 6 Book">
<input type="hidden" name="Base Price" value="500">
<input type="hidden" name="Coupon Used" id="hiddenCouponUsed" value="No">

<!-- Step 1: Student Details -->
<section id="shipping-step" class="step-section p-6 bg-white rounded-xl shadow-lg border border-cyan-100">
<h2 class="text-2xl font-bold text-cyan-700 mb-6 border-b pb-3">1. Student Details & Shipping</h2>
<div class="space-y-4">
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<input type="text" name="First Name" id="firstName" placeholder="First Name" required class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500">
<input type="text" name="Last Name" id="lastName" placeholder="Last Name" required class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500">
</div>
<input type="tel" name="Contact Number" id="contactNumber" placeholder="Contact Number" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500">
<div>
<label for="collegeSelect" class="block text-sm font-medium text-gray-700 mb-1">Select College</label>
<input list="collegesList" name="College" id="collegeSelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500" placeholder="Search or select your college..." required>
<datalist id="collegesList">
<option value="Allama Iqbal Medical College (AIMC)">
<option value="King Edward Medical University (KEMU)">
<option value="Fatima Jinnah Medical University (FJMU)">
<option value="Services Institute of Medical Sciences (SIMS)">
<option value="Rawalpindi Medical University (RMU)">
</datalist>
</div>
<div id="aimc-fields" class="space-y-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg hidden">
<label class="block text-lg font-bold text-yellow-800">Allama Iqbal Medical College Discount</label>
<input type="text" name="AIMC Roll Number" id="rollNumber" placeholder="AIMC Roll Number" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500">
<div class="flex items-center space-x-2">
<input type="text" name="Coupon Code Entered" id="couponCode" placeholder="Enter Coupon Code" class="flex-grow p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 uppercase">
<button type="button" id="applyCouponBtn" class="bg-cyan-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-cyan-700 transition duration-150">Apply</button>
<div id="couponStatus" class="w-8 h-8 flex items-center justify-center"></div>
</div>
</div>
<h3 class="font-bold text-gray-900 pt-2 border-t mt-4">Shipping Address</h3>
<input type="text" name="Street Address" id="streetAddress" placeholder="Street Address" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500">
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
<input type="text" name="City" id="city" placeholder="City" required class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500">
<input type="text" name="Province" id="province" placeholder="Province" required class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500">
<input type="text" name="Postal Code" id="postalCode" placeholder="Postal Code" required class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500">
</div>
</div>
</section>

<!-- Step 2: Payment Upload -->
<section id="payment-step" class="step-section p-6 bg-white rounded-xl shadow-lg">
<h2 class="text-2xl font-bold text-cyan-700 mb-6 border-b pb-3">2. Make Payment & Upload Receipt</h2>
<div class="space-y-4">
<p class="text-gray-700">Transfer the total amount to the following account and upload the payment receipt:</p>
<ul class="list-disc list-inside text-gray-700">
<li>Bank: ABC Bank</li>
<li>Account Number: 1234567890</li>
<li>Account Name: Mind Your Minors</li>
</ul>
<div>
<label class="block font-medium text-gray-700 mb-1" for="paymentSlip">Upload Receipt / Payment Slip</label>
<input type="file" name="Receipt File" id="paymentSlip" accept="image/*,.pdf" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500">
</div>
</div>
</section>

<!-- Step 3: Review & Confirm -->
<section id="review-step" class="step-section p-6 bg-white rounded-xl shadow-lg">
<h2 class="text-2xl font-bold text-cyan-700 mb-6 border-b pb-3">3. Confirm Order</h2>
<div id="orderSummary" class="p-6 bg-gray-50 border border-gray-200 rounded-xl space-y-3">
<!-- Order summary will be filled dynamically via JS -->
</div>
<button type="submit" class="mt-6 w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200">Submit Order</button>
</section>
</form>
</div>
</div>
<script>
// Unique Order Number
function generateOrderNumber() {
    const d = new Date();
    return 'MYM' + d.getFullYear() + d.getMonth().toString().padStart(2,'0') + d.getDate().toString().padStart(2,'0') + Math.floor(Math.random()*900+100);
}
const orderNumber = generateOrderNumber();
document.getElementById('hiddenOrderNumber').value = orderNumber;
document.getElementById('formSubmitSubject').value += orderNumber;

// Step 3 Order Summary
function updateOrderSummary() {
    const summaryDiv = document.getElementById('orderSummary');
    const firstName = document.getElementById('firstName').value;
    const lastName = document.getElementById('lastName').value;
    const contactNumber = document.getElementById('contactNumber').value;
    const college = document.getElementById('collegeSelect').value;
    const street = document.getElementById('streetAddress').value;
    const city = document.getElementById('city').value;
    const province = document.getElementById('province').value;
    const postal = document.getElementById('postalCode').value;
    const coupon = document.getElementById('couponCode') ? document.getElementById('couponCode').value : 'No';
    const total = 500; // adjust if discount applied
    document.getElementById('hiddenCouponUsed').value = coupon;
    document.getElementById('hiddenTotalAmount').value = total;

    summaryDiv.innerHTML = `
    <h3 class="font-bold text-gray-800 text-lg">Order Summary</h3>
    <div class="space-y-2">
        <p><strong>Order Number:</strong> ${orderNumber}</p>
        <p><strong>Name:</strong> ${firstName} ${lastName}</p>
        <p><strong>Contact Number:</strong> ${contactNumber}</p>
        <p><strong>College:</strong> ${college}</p>
        <p><strong>Address:</strong> ${street}, ${city}, ${province}, ${postal}</p>
        <p><strong>Coupon Used:</strong> ${coupon}</p>
        <p><strong>Total Amount:</strong> â‚¨${total}</p>
    </div>
    `;
}
document.getElementById('checkout-form').addEventListener('change', updateOrderSummary);
document.getElementById('checkout-form').addEventListener('keyup', updateOrderSummary);
updateOrderSummary();
</script>
</body>
</html>
